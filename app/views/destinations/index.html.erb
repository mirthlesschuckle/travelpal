<div class="container">

  <h1>Destinations/index</h1>
  <%= form_with url: destinations_path, method: :get, class: "d-flex" do %>
    <%= text_field_tag :query,
      params[:query],
      class: "form-control",
      placeholder: "Find a destination"
    %>
    <%= submit_tag "Search", class: "btn btn-primary" %>
  <% end %>

  <div style="width: 100%; height: 200px;"
    data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>

  <h2>Results:</h2>
  <% @destinations.each do |destination| %>
    <p>
      <%= link_to destination.name, destination_path(destination), class: "text-decoration-none", style: "color: black;" %>
    </p>
  <% end %>

</div>
